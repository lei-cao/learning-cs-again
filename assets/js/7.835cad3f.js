(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{124:function(e,t,i){},152:function(e,t,i){var r=i(4);r(r.P,"Function",{bind:i(153)})},153:function(e,t,i){"use strict";var r=i(16),n=i(3),s=i(80),a=[].slice,h={};e.exports=Function.bind||function(e){var t=r(this),i=a.call(arguments,1),o=function(){var r=i.concat(a.call(arguments));return this instanceof o?function(e,t,i){if(!(t in h)){for(var r=[],n=0;n<t;n++)r[n]="a["+n+"]";h[t]=Function("F,a","return new F("+r.join(",")+")")}return h[t](e,i)}(t,r.length,r):s(t,r,e)};return n(t.prototype)&&(o.prototype=t.prototype),o}},154:function(e,t,i){"use strict";var r=i(124);i.n(r).a},165:function(e,t,i){"use strict";i.r(t);i(152),i(22),i(36);var r={name:"LearningPixi",props:{},components:{},data:function(){return{state:null,app:null,gameScene:null,gameOverScene:null,explorer:null,blobs:[],treasure:null,healthBar:null,door:null,dungeon:null,message:null}},methods:{setupGameScene:function(){var e;e=PIXI.loader.resources["/images/learningpixi/treasureHunter.json"].textures,this.dungeon=new PIXI.Sprite(e["dungeon.png"]),this.gameScene.addChild(this.dungeon),this.door=new PIXI.Sprite(e["door.png"]),this.door.position.set(32,0),this.gameScene.addChild(this.door),this.explorer=new PIXI.Sprite(e["explorer.png"]),this.explorer.x=68,this.explorer.y=this.gameScene.height/2-this.explorer.height/2,this.explorer.vx=0,this.explorer.vy=0,this.gameScene.addChild(this.explorer),this.setupExplorer(),this.treasure=new PIXI.Sprite(e["treasure.png"]),this.treasure.x=this.gameScene.width-this.treasure.width-48,this.treasure.y=this.gameScene.height/2-this.treasure.height/2,this.gameScene.addChild(this.treasure);for(var t=1,i=0;i<6;i++){var r=new PIXI.Sprite(e["blob.png"]),n=48*i+150,s=this.randomInt(0,this.app.stage.height-r.height);r.x=n,r.y=s,r.vy=2*t,t*=-1,this.blobs.push(r),this.gameScene.addChild(r)}this.healthBar=new PIXI.DisplayObjectContainer,this.healthBar.position.set(this.app.stage.width-170,4),this.gameScene.addChild(this.healthBar);var a=new PIXI.Graphics;a.beginFill(0),a.drawRect(0,0,128,8),a.endFill(),this.healthBar.addChild(a);var h=new PIXI.Graphics;h.beginFill(16724736),h.drawRect(0,0,128,8),h.endFill(),this.healthBar.addChild(h),this.healthBar.outer=h},initGameOverScene:function(){var e=new PIXI.TextStyle({fontFamily:"Futura",fontSize:64,fill:"white"});this.message=new PIXI.Text("The End!",e),this.message.x=120,this.message.y=this.app.stage.height/2-32,this.gameOverScene.addChild(this.message)},play:function(e){var t=this;this.explorer.x+=this.explorer.vx,this.explorer.y+=this.explorer.vy,this.contain(this.explorer,{x:28,y:10,width:488,height:480});var i=!1;this.blobs.forEach(function(e){e.y+=e.vy;var r=t.contain(e,{x:28,y:10,width:488,height:480});"top"!==r&&"bottom"!==r||(e.vy*=-1),t.hitTestRectangle(t.explorer,e)&&(i=!0)}),i?(this.explorer.alpha=.5,this.healthBar.outer.width-=1):this.explorer.alpha=1,this.hitTestRectangle(this.explorer,this.treasure)&&(this.treasure.x=this.explorer.x+8,this.treasure.y=this.explorer.y+8),this.hitTestRectangle(this.treasure,this.door)&&(this.state=this.end,this.message.text="You won!"),this.healthBar.outer.width<0&&(this.state=this.end,this.message.text="You lost!")},end:function(e){this.gameScene.visible=!1,this.gameOverScene.visible=!0},contain:function(e,t){var i=void 0;return e.x<t.x&&(e.x=t.x,i="left"),e.y<t.y&&(e.y=t.y,i="top"),e.x+e.width>t.width&&(e.x=t.width-e.width,i="right"),e.y+e.height>t.height&&(e.y=t.height-e.height,i="bottom"),i},hitTestRectangle:function(e,t){var i,r,n,s;return!1,e.centerX=e.x+e.width/2,e.centerY=e.y+e.height/2,t.centerX=t.x+t.width/2,t.centerY=t.y+t.height/2,e.halfWidth=e.width/2,e.halfHeight=e.height/2,t.halfWidth=t.width/2,t.halfHeight=t.height/2,n=e.centerX-t.centerX,s=e.centerY-t.centerY,i=e.halfWidth+t.halfWidth,r=e.halfHeight+t.halfHeight,Math.abs(n)<i&&Math.abs(s)<r},loader:function(){PIXI.loader.reset(),PIXI.loader.add(["/images/learningpixi/cat.png","/images/learningpixi/blob.png"]).add("tileset","/images/learningpixi/tileset.png").add("/images/learningpixi/treasureHunter.json").load(this.setup)},setup:function(){var e=this;this.setupGameScene(),this.initGameOverScene(),this.state=this.play,this.app.ticker.add(function(t){return e.gameLoop(t)})},setupExplorer:function(){var e=this,t=this.keyboard(37),i=this.keyboard(38),r=this.keyboard(39),n=this.keyboard(40);t.press=function(){e.explorer.vx=-5,e.explorer.vy=0},t.release=function(){r.isDown||0!==e.explorer.vy||(e.explorer.vx=0)},i.press=function(){e.explorer.vy=-5,e.explorer.vx=0},i.release=function(){n.isDown||0!==e.explorer.vx||(e.explorer.vy=0)},r.press=function(){e.explorer.vx=5,e.explorer.vy=0},r.release=function(){t.isDown||0!==e.explorer.vy||(e.explorer.vx=0)},n.press=function(){e.explorer.vy=5,e.explorer.vx=0},n.release=function(){i.isDown||0!==e.explorer.vx||(e.explorer.vy=0)}},randomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},gameLoop:function(e){this.state(e)},keyboard:function(e){var t={};return t.code=e,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(e){e.keyCode===t.code&&(t.isUp&&t.press&&t.press(),t.isDown=!0,t.isUp=!1),e.preventDefault()},t.upHandler=function(e){e.keyCode===t.code&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0),e.preventDefault()},window.addEventListener("keydown",t.downHandler.bind(t),!1),window.addEventListener("keyup",t.upHandler.bind(t),!1),t}},mounted:function(){this.app=new PIXI.Application({width:256,height:256,antialias:!0,transparent:!1,resolution:1}),this.$el.appendChild(this.app.view),this.app.renderer.backgroundColor=76342,this.app.renderer.autoResize=!0,this.app.renderer.resize(512,512),this.gameScene=new PIXI.Container,this.app.stage.addChild(this.gameScene),this.gameOverScene=new PIXI.Container,this.app.stage.addChild(this.gameOverScene),this.gameOverScene.visible=!1,this.loader()}},n=(i(154),i(6)),s=Object(n.a)(r,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"learning-pixi"})},[],!1,null,null,null);s.options.__file="LearningPixi.vue";t.default=s.exports}}]);